# =============================================================================
# JKTech Processing Service Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env files to version control!

# =============================================================================
# REQUIRED CONFIGURATION
# =============================================================================

# Server Configuration
PORT=8081
NODE_ENV=development

# Redis Configuration (REQUIRED - for Bull Queue)
# Redis is required for job queue management
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=100
REDIS_CONNECTION_TIMEOUT=5000
REDIS_COMMAND_TIMEOUT=5000

# Main Backend Configuration (REQUIRED)
# URL of the main JKTech backend service
MAIN_BACKEND_URL=http://localhost:8080
MAIN_BACKEND_API_PREFIX=/api/v1

# Service Authentication (REQUIRED)
# Shared secret for service-to-service communication
# Must match the SERVICE_TOKEN in the main backend
SERVICE_TOKEN=processing-service-token

# =============================================================================
# OPTIONAL CONFIGURATION
# =============================================================================

# Processing Configuration
MAX_CONCURRENT_JOBS=5
PROCESSING_TIMEOUT=300000
RETRY_ATTEMPTS=3
RETRY_DELAY=5000

# Document Processing Limits
MAX_FILE_SIZE=100MB
MAX_PAGES_PER_DOCUMENT=1000
SUPPORTED_FORMATS=pdf,doc,docx,txt,rtf,odt

# OCR Configuration (if OCR is enabled)
OCR_ENABLED=false
OCR_LANGUAGE=eng
OCR_DPI=300

# AI Processing Configuration (future enhancement)
AI_ENABLED=false
AI_MODEL_ENDPOINT=
AI_API_KEY=

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_ENABLED=false
LOG_FILE_PATH=./logs/processing-service.log

# Health Check Configuration
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_INTERVAL=30000

# =============================================================================
# PRODUCTION NOTES
# =============================================================================
# When deploying to production:
# 1. Set NODE_ENV=production
# 2. Use secure Redis credentials
# 3. Use HTTPS URLs for MAIN_BACKEND_URL
# 4. Generate a strong SERVICE_TOKEN (64+ characters)
# 5. Enable proper SSL/TLS for Redis connections
# 6. Review and adjust processing limits based on server capacity
# 7. Enable logging to files for monitoring
# =============================================================================